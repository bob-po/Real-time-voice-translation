# 实时语音翻译系统 - 用户使用手册

## 快速开始

### 第一步：启动应用
1. 双击运行 `transparent_subtitle_optimized.py`
2. 或在命令行中执行：
   ```bash
   python Real-time-voice-translation/transparent_subtitle_optimized.py
   ```

### 第二步：基本使用
1. 应用启动后会显示一个半透明的悬浮窗口
2. 对着麦克风说话，系统会自动识别并显示字幕
3. 字幕会实时更新，显示原文和翻译

### 第三步：调整设置
1. 右键点击字幕窗口
2. 选择"设置"打开配置面板
3. 根据需要调整各项参数

## 界面说明

### 主窗口
```
┌─────────────────────────────────────────┐
│             实时字幕窗口                  │
│                                         │
│    原文内容                             │
│    ──────────────────────────────────   │
│    译文内容 (青色显示)                   │
│                                         │
└─────────────────────────────────────────┘
```

**窗口特性**:
- **半透明背景**: 不会遮挡其他应用
- **悬浮置顶**: 始终显示在最前面
- **无边框设计**: 简洁的视觉效果
- **可拖拽移动**: 鼠标拖拽改变位置

### 音频波形动画
当鼠标悬停在窗口上时，会显示：
- **彩色边框**: 渐变色边框效果
- **波形动画**: 左右两侧的音频波形条
- **实时响应**: 根据音频强度变化

## 详细操作指南

### 1. 移动字幕位置
- **方法一**: 鼠标拖拽窗口任意位置
- **方法二**: 右键菜单选择位置预设（如果支持）

### 2. 调整字幕大小
1. 右键点击窗口 → 选择"设置"
2. 在"字体大小"滑块中调整（16-48）
3. 点击"确定"应用更改

### 3. 切换显示模式
在设置中选择"字幕展示"：
- **双语**: 同时显示原文和译文
- **仅原文**: 只显示识别的原文
- **仅译文**: 只显示翻译结果

### 4. 选择麦克风
1. 打开设置对话框
2. 在"麦克风"下拉列表中选择设备
3. 点击"确定"应用更改

### 5. 切换识别模式
在设置中选择"识别方式"：
- **网络**: 使用Google语音识别（需要网络）
- **本地**: 使用本地Vosk模型（离线可用）

## 语言设置

### 支持的语言
| 语言代码 | 语言名称 | 识别支持 | 翻译支持 |
|---------|---------|---------|---------|
| zh | 中文 | ✅ | ✅ |
| en | 英文 | ✅ | ✅ |
| ja | 日文 | ✅ | ✅ |
| fr | 法文 | ✅ | ✅ |
| de | 德文 | ✅ | ✅ |
| es | 西班牙文 | ✅ | ✅ |
| ru | 俄文 | ✅ | ✅ |
| ko | 韩文 | ✅ | ✅ |

### 设置语言
1. 打开设置对话框
2. **识别语言**: 选择语音识别的源语言
3. **翻译目标**: 选择翻译的目标语言
4. 点击"确定"应用更改

**注意事项**:
- 识别语言应与说话语言一致
- 翻译目标语言会显示为青色
- 首次使用新语言可能需要下载语言包

## 高级功能

### 1. 性能优化
- **网络模式**: 识别准确度高，需要网络连接
- **本地模式**: 离线可用，响应速度快
- **字体缓存**: 自动缓存字体对象，提升性能

### 2. 音频处理
- **自动增益**: 自动调整音频输入
- **噪声抑制**: 内置噪声处理算法
- **能量计算**: 实时计算音频强度

### 3. 错误恢复
- **网络异常**: 自动重试识别
- **设备异常**: 自动切换备用设备
- **内存管理**: 自动清理缓存和队列

## 常见问题解答

### Q1: 麦克风无法识别
**可能原因**:
- 麦克风权限被禁用
- 设备连接异常
- 系统音频设置问题

**解决方法**:
1. 检查系统麦克风权限设置
2. 确认麦克风设备正常工作
3. 在设置中切换麦克风设备
4. 重启应用

### Q2: 识别不准确
**可能原因**:
- 环境噪音过大
- 麦克风距离过远
- 语言设置错误

**解决方法**:
1. 确保环境安静
2. 调整麦克风距离（建议20-50cm）
3. 检查识别语言设置
4. 尝试使用网络识别模式

### Q3: 翻译失败
**可能原因**:
- 网络连接问题
- 语言包未安装
- 翻译服务异常

**解决方法**:
1. 检查网络连接
2. 确认语言包已正确安装
3. 尝试重启应用
4. 检查防火墙设置

### Q4: 字幕显示异常
**可能原因**:
- 字体文件缺失
- 显示模式设置错误
- UI渲染问题

**解决方法**:
1. 检查系统字体文件
2. 调整显示模式设置
3. 重启应用
4. 更新显卡驱动

### Q5: 性能问题
**可能原因**:
- 系统资源不足
- 其他应用占用CPU
- 音频参数设置不当

**解决方法**:
1. 关闭其他占用资源的应用
2. 尝试使用本地识别模式
3. 调整音频采集参数
4. 重启系统

### Q6: 应用无法启动
**可能原因**:
- Python环境问题
- 依赖包缺失
- 权限不足

**解决方法**:
1. 检查Python版本（需要3.7+）
2. 安装缺失的依赖包
3. 以管理员身份运行
4. 检查防火墙设置

## 使用技巧

### 1. 最佳使用环境
- **安静环境**: 减少背景噪音
- **适当距离**: 麦克风距离20-50cm
- **清晰发音**: 语速适中，发音清晰
- **稳定网络**: 网络模式需要稳定连接

### 2. 提高识别准确度
- 使用高质量麦克风
- 避免同时说话
- 保持适当音量
- 定期校准麦克风

### 3. 优化显示效果
- 选择合适的字体大小
- 根据背景调整透明度
- 合理放置窗口位置
- 使用合适的显示模式

### 4. 节省系统资源
- 使用本地识别模式
- 关闭不必要的应用
- 定期重启应用
- 监控系统资源使用

## 快捷键（如果支持）

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| Ctrl+S | 打开设置 | 快速访问设置对话框 |
| Ctrl+Q | 退出应用 | 关闭字幕系统 |
| F1 | 显示帮助 | 打开帮助文档 |
| F2 | 切换显示模式 | 循环切换显示模式 |

## 故障排除流程

### 步骤1: 基础检查
1. 确认Python环境正常
2. 检查依赖包是否完整
3. 验证麦克风设备状态
4. 测试网络连接

### 步骤2: 应用检查
1. 重启应用
2. 检查设置配置
3. 切换识别模式
4. 调整音频参数

### 步骤3: 系统检查
1. 更新系统驱动
2. 检查防火墙设置
3. 清理系统缓存
4. 重启系统

### 步骤4: 寻求帮助
1. 查看错误日志
2. 搜索常见问题
3. 联系技术支持
4. 提交问题报告

## 联系支持

### 获取帮助
- **文档**: 查看README.md和技术文档
- **问题反馈**: 提交GitHub Issue
- **功能建议**: 通过Pull Request贡献

### 系统信息
- **版本**: v1.0.0
- **平台**: Windows 10/11
- **Python**: 3.7+
- **依赖**: 见requirements.txt

---

**提示**: 首次使用建议先阅读本手册，熟悉基本操作后再进行高级配置。 